(()=>{"use strict";!function(){let t,e=!1;!async function(){console.log("Automatic writing activated");const n=document.getElementById("stageFrame")||null;n&&(t=setInterval((async()=>{if(e)return console.log("Script stopped"),void clearInterval(t);const o=document.getElementById("activity-status")?.innerText;if("Complete"===o)return e=!0,void clearInterval(t);if(!n.contentWindow?.CKEDITOR)return void console.log("CKEditor not available");const i=n.contentDocument?.querySelectorAll("#contentViewer #OnlineContent-Links .weblink");if(i?.length)console.log("Multiple links found. Custom handling required."),clearInterval(t);else{clearInterval(t);const e=n.contentWindow.document.getElementById("journal-prompt")||n.contentWindow.document.querySelector(".text-box-container"),o=n.contentWindow.CKEDITOR.instances.Answer||n.contentWindow.CKEDITOR.instances["essay-Content"];o.setData("Sit tight while Revolt generates a response... âœ¨");try{const t=(await async function(t){return new Promise(((e,n)=>{GM_xmlhttpRequest({method:"POST",url:"http://localhost:3000/api/process",headers:{"Content-Type":"application/json"},data:JSON.stringify({prompt:t}),onload:function(t){if(200===t.status)try{const n=JSON.parse(t.responseText);e(n)}catch(t){n("JSON parse error: "+t)}else n("API failed with status: "+t.status)},onerror:function(t){n("API error: "+t)}})}))}(e?.innerText)).humanizedText;console.log("Answer generated:",t),o.setData(t),setTimeout((()=>{const t=n.contentWindow.document.getElementById("SubmitButton")||n.contentWindow.document.querySelector(".uibtn.uibtn-blue.uibtn-med.uibtn-alt");t.disabled=!1,function(t){t.click(),console.log("Submit button clicked"),setTimeout((async()=>{!function(){const t=document.getElementById("stageFrame");if(!t)return;if(!document.querySelector("#custom-human-style")){const e=t.getBoundingClientRect();let n=document.createElement("style");n.id="custom-human-style",n.innerHTML=`\n      .human-container {\n          position: absolute;\n          left: ${e.right+20+window.scrollX}px;\n          top: ${e.bottom-100+window.scrollY}px;\n          z-index: 1000;\n          display: flex;\n          flex-direction: column;\n          background: rgba(24, 24, 27, 0.65);\n          padding: 10px;\n          border-radius: 12px;\n          font-size: 14px;\n          box-shadow: inset 0 1px, inset 0 0 0 1px rgba(255, 255, 255, 0.025);\n          width: 150px;\n          height: 100px;\n          text-align: center;\n      }\n      .human-title {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 4px;\n          color: white;\n      }\n      .human-circle-container {\n          position: relative;\n          width: 100px;\n          height: 60px;\n          margin: 0 auto;\n      }\n      .human-circle {\n          fill: transparent;\n          stroke-width: 10;\n          transition: stroke-dashoffset 1s linear, stroke 0.3s ease;\n      }\n      .human-text {\n          font-size: 40px;\n          font-weight: bold;\n          transition: opacity 0.5s ease-in-out, fill 0.3s ease;\n      }\n    `,document.head.appendChild(n)}let e=document.createElement("div");e.className="human-container",e.innerHTML='\n    <div class="human-title">\n        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <path d="M2 12a5 5 0 0 0 5 5 8 8 0 0 1 5 2 8 8 0 0 1 5-2 5 5 0 0 0 5-5V7h-5a8 8 0 0 0-5 2 8 8 0 0 0-5-2H2Z"></path>\n            <path d="M6 11c1.5 0 3 .5 3 2-2 0-3 0-3-2Z"></path>\n            <path d="M18 11c-1.5 0-3 .5-3 2 2 0 3 0 3-2Z"></path>\n        </svg>\n        Human Score\n    </div>\n    <div class="human-circle-container">\n        <svg width="100" height="60" viewBox="0 0 120 120">\n            <circle class="human-circle progress" cx="60" cy="60" r="48" stroke="gray" stroke-dasharray="301.59" stroke-dashoffset="301.59" transform="rotate(-90 60 60)"></circle>\n            <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" class="human-text" style="fill: gray;">0</text>\n        </svg>\n    </div>\n  ',document.body.appendChild(e);let n=e.querySelector(".progress"),o=e.querySelector(".human-text"),i=0;requestAnimationFrame((function t(){i++;let e=Math.min(i/60,1),r=Math.round(87*e),s=301.59-r/100*301.59;o.textContent=r,n.style.strokeDashoffset=s,i<60?requestAnimationFrame(t):(n.style.stroke="green",o.style.fill="white")}))}()}),15e3)}(t)}),1e3)}catch(t){console.error("Error fetching answer:",t)}}}),1e3))}()}()})();
//# sourceMappingURL=bundle.user.js.map